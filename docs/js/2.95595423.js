(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"8b24":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center"},[a("URLInput")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"url-input"},[a("q-form",{on:{submit:e.submitHandler}},[a("q-select",{attrs:{name:"gameType",rules:[function(e){return!!e||"必须选择一个比赛类型"}],options:e.gameTypeOptions,label:"比赛类型"},on:{input:e.gameTypeInputHandler},model:{value:e.gameType,callback:function(t){e.gameType=t},expression:"gameType"}}),a("div",[a("q-toggle",{attrs:{disable:!e.gameType,icon:"group",label:"按照战队订阅赛程","left-label":""},on:{input:e.vibrateHandler},model:{value:e.isTeam,callback:function(t){e.isTeam=t},expression:"isTeam"}})],1),e.isTeam?a("div",[a("q-select",{attrs:{name:"teamName",rules:[function(t){return e.isTeam&&!!t||!e.isTeam||"必须选择一个比赛类型"}],options:e.teamNameOptions,label:"战队名称"},model:{value:e.teamName,callback:function(t){e.teamName=t},expression:"teamName"}})],1):e._e(),a("div",[a("q-toggle",{attrs:{icon:"mail",label:"赛前半小时发送提醒","left-label":""},on:{input:e.vibrateHandler},model:{value:e.isAlarm,callback:function(t){e.isAlarm=t},expression:"isAlarm"}})],1),a("q-btn",{staticStyle:{width:"100%","margin-top":"7px"},attrs:{color:"primary",label:"生成链接并复制",type:"submit",size:"xg"}})],1)],1)},l=[],m=(a("5319"),a("b178")),o={name:"URLInput",data(){return{gameType:null,teamName:null,gameTypeOptions:[],teamNameOptions:[],isTeam:!1,isAlarm:!1}},methods:{submitHandler:function(e){let t="https://cdn.jsdelivr.net/gh/TankNee/LOL_Game_Subscription/";t+=this.gameType+"/",this.isTeam?t+=`team/${this.teamName}`:t+=this.gameType,this.isAlarm&&(t+="-alarm"),t+=".ics",Object(m["a"])(t).then((()=>{this.$q.notify({type:"positive",message:"成功复制到剪切板。",actions:[{icon:"open_in_new",color:"white",label:"立即打开",handler:()=>{window.open(t,"")}}]})}))},vibrateHandler:function(){navigator.vibrate(400)},gameTypeInputHandler:function(e){this.$api(`/repos/TankNee/LOL_Game_Subscription/contents/${e}/team`).then((e=>e.data)).then((e=>{this.teamNameOptions=e.filter((e=>!/-alarm/g.test(e.name))).map((e=>e.name.replace(/\.ics/,"")))}))}},mounted:function(){this.$api("/repos/TankNee/LOL_Game_Subscription/contents").then((e=>e.data)).then((e=>e.filter((e=>/^\d+/.test(e.name))))).then((e=>{this.gameTypeOptions=e.map((e=>e.name))}))}},r=o,p=(a("ce00"),a("2877")),c=Object(p["a"])(r,s,l,!1,null,null,null),u=c.exports,b=a("2b0e"),d=new b["a"],f={name:"PageIndex",components:{URLInput:u},data(){return{url:"https://ljscq.bmcx.com/"}},mounted(){d.$on("change-url",(e=>{this.url=e}))}},h=f,g=Object(p["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},ce00:function(e,t,a){"use strict";a("f252")},f252:function(e,t,a){}}]);